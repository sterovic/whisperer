<%= turbo_frame_tag "test_results" do %>
  <div class="space-y-3">
    <div class="flex items-center gap-2 text-sm text-success">
      <span class="iconify lucide--check size-4"></span>
      <span>Generated <%= comments.length %> comments</span>
    </div>

    <div class="text-xs text-base-content/50 mb-2">
      For: <%= truncate(video.title || "Untitled", length: 30) %>
    </div>

    <div class="overflow-y-auto max-h-100 flex flex-col gap-2">
      <% comments.each_with_index do |comment, index| %>
        <div class="bg-base-200 rounded-lg p-3 text-sm">
          <div class="flex items-start gap-2">
            <span class="badge badge-ghost badge-xs mt-0.5"><%= index + 1 %></span>
            <p class="flex-1"><%= comment %></p>
          </div>
        </div>
      <% end %>
    </div>

    <% if comments.empty? %>
      <div class="alert alert-warning text-sm py-2">
        <span class="iconify lucide--alert-triangle size-4"></span>
        <span>No comments generated</span>
      </div>
    <% end %>
  </div>
<% end %>