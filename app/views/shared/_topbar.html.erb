<div
  role="navigation"
  aria-label="Navbar"
  class="flex items-center justify-between px-3"
  id="layout-topbar">
  <div class="inline-flex items-center gap-3">
    <label
      class="btn btn-square btn-ghost btn-sm group-has-[[id=layout-sidebar-hover-trigger]:checked]/html:hidden"
      aria-label="Leftmenu toggle"
      for="layout-sidebar-toggle-trigger">
      <span class="iconify lucide--menu size-5"></span>
    </label>
    <label
      class="btn btn-square btn-ghost btn-sm hidden group-has-[[id=layout-sidebar-hover-trigger]:checked]/html:flex"
      aria-label="Leftmenu toggle"
      for="layout-sidebar-hover-trigger">
      <span class="iconify lucide--menu size-5"></span>
    </label>
    <button
      class="btn btn-outline btn-sm btn-ghost border-base-300 text-base-content/70 hidden h-9 w-48 justify-start gap-2 text-sm! md:flex"
      onclick="document.getElementById('topbar-search-modal')?.showModal()">
      <span class="iconify lucide--search size-4"></span>
      <span>Search</span>
    </button>
    <button
      class="btn btn-outline btn-sm btn-square btn-ghost border-base-300 text-base-content/70 flex size-9 md:hidden"
      aria-label="Search"
      onclick="document.getElementById('topbar-search-modal')?.showModal()">
      <span class="iconify lucide--search size-4"></span>
    </button>
    <dialog id="topbar-search-modal" class="modal p-0">
      <div class="modal-box bg-transparent p-0 shadow-none">
        <div class="bg-base-100 rounded-box">
          <div class="input w-full border-0 outline-none!">
            <span class="iconify lucide--search text-base-content/60 size-4.5"></span>
            <input
              type="search"
              class="grow"
              placeholder="Search"
              aria-label="Search" />
            <form method="dialog">
              <button class="btn btn-xs btn-circle btn-ghost" aria-label="Close">
                <span class="iconify lucide--x text-base-content/80 size-4"></span>
              </button>
            </form>
          </div>
          <div class="border-base-300 flex items-center gap-3 border-t px-2 py-2">
            <div class="flex items-center gap-0.5">
              <div
                class="border-base-300 bg-base-200 flex size-5 items-center justify-center rounded-sm border shadow-xs">
                <span class="iconify lucide--arrow-up size-3.5"></span>
              </div>
              <div
                class="border-base-300 bg-base-200 flex size-5 items-center justify-center rounded-sm border shadow-xs">
                <span class="iconify lucide--arrow-down size-3.5"></span>
              </div>
              <p class="text-base-content/80 ms-1 text-sm">Navigate</p>
            </div>
            <div class="flex items-center gap-0.5 max-sm:hidden">
              <div
                class="border-base-300 bg-base-200 flex size-5 items-center justify-center rounded-sm border shadow-xs">
                <span class="iconify lucide--undo-2 size-3.5"></span>
              </div>
              <p class="text-base-content/80 ms-1 text-sm">Return</p>
            </div>
            <div class="flex items-center gap-0.5">
              <div
                class="border-base-300 bg-base-200 flex size-5 items-center justify-center rounded-sm border shadow-xs">
                <span class="iconify lucide--corner-down-left size-3.5"></span>
              </div>
              <p class="text-base-content/80 ms-1 text-sm">Open</p>
            </div>
            <div class="ms-auto flex items-center gap-0.5">
              <div
                class="border-base-300 bg-base-200 flex h-5 items-center justify-center rounded-sm border px-1 text-sm/none shadow-xs">
                esc
              </div>
              <p class="text-base-content/80 ms-1 text-sm">Close</p>
            </div>
          </div>
        </div>
        <div class="bg-base-100 rounded-box mt-4">
          <div class="px-5 py-3">
            <p class="text-base-content/80 text-sm font-medium">I'm looking for...</p>
            <div class="mt-2 flex flex-wrap gap-1.5">
              <div
                class="border-base-300 hover:bg-base-200 rounded-box cursor-pointer border px-2.5 py-1 text-sm/none">
                Writer
              </div>
              <div
                class="border-base-300 hover:bg-base-200 rounded-box cursor-pointer border px-2.5 py-1 text-sm/none">
                Editor
              </div>
              <div
                class="border-base-300 hover:bg-base-200 rounded-box cursor-pointer border px-2.5 py-1 text-sm/none">
                Explainer
              </div>
              <div
                class="border-base-300 hover:bg-base-200 rounded-box flex cursor-pointer items-center gap-1 border border-dashed px-2.5 py-1 text-sm/none">
                <span class="iconify lucide--plus size-3.5"></span>
                Action
              </div>
            </div>
          </div>
          <hr class="border-base-300 h-px border-dashed" />

          <ul class="menu w-full pt-1">
            <li class="menu-title">Talk to assistant</li>
            <li>
              <div class="group">
                <div
                  class="from-primary to-primary/80 mask mask-squircle text-primary-content flex size-5 items-center justify-center bg-linear-to-b leading-none font-medium">
                  R
                </div>
                <p class="grow text-sm">Research Buddy</p>
                <div
                  class="flex translate-x-2 items-center gap-2.5 opacity-0 transition-all duration-300 group-hover:translate-x-0 group-hover:opacity-100">
                  <span class="iconify lucide--star text-orange-500"></span>
                  <div class="flex items-center gap-0.5">
                    <div
                      class="border-base-300 flex size-5 items-center justify-center rounded-sm border shadow-xs">
                                            <span
                                              class="iconify lucide--corner-down-left size-3.5"></span>
                    </div>
                    <p class="ms-1 text-sm opacity-80">Select</p>
                  </div>
                  <span
                    class="iconify lucide--ellipsis-vertical opacity-80"></span>
                </div>
              </div>
            </li>

            <li>
              <div class="group">
                <div
                  class="from-secondary to-secondary/80 mask mask-squircle text-secondary-content flex size-5 items-center justify-center bg-linear-to-b leading-none font-medium">
                  T
                </div>
                <p class="grow text-sm">Task Planner</p>
                <div
                  class="flex translate-x-2 items-center gap-2.5 opacity-0 transition-all duration-300 group-hover:translate-x-0 group-hover:opacity-100">
                  <span class="iconify lucide--star text-orange-500"></span>
                  <div class="flex items-center gap-0.5">
                    <div
                      class="border-base-300 flex size-5 items-center justify-center rounded-sm border shadow-xs">
                                            <span
                                              class="iconify lucide--corner-down-left size-3.5"></span>
                    </div>
                    <p class="ms-1 text-sm opacity-80">Select</p>
                  </div>
                  <span
                    class="iconify lucide--ellipsis-vertical opacity-80"></span>
                </div>
              </div>
            </li>
            <li>
              <div class="group">
                <div
                  class="from-success to-success/80 mask mask-squircle text-success-content flex size-5 items-center justify-center bg-linear-to-b leading-none font-medium">
                  S
                </div>
                <p class="grow text-sm">Sparking Ideas</p>
                <div
                  class="flex translate-x-2 items-center gap-2.5 opacity-0 transition-all duration-300 group-hover:translate-x-0 group-hover:opacity-100">
                  <span class="iconify lucide--star text-orange-500"></span>
                  <div class="flex items-center gap-0.5">
                    <div
                      class="border-base-300 flex size-5 items-center justify-center rounded-sm border shadow-xs">
                                            <span
                                              class="iconify lucide--corner-down-left size-3.5"></span>
                    </div>
                    <p class="ms-1 text-sm opacity-80">Select</p>
                  </div>
                  <span
                    class="iconify lucide--ellipsis-vertical opacity-80"></span>
                </div>
              </div>
            </li>
            <li>
              <div class="group">
                <div
                  class="from-warning to-warning/80 mask mask-squircle text-warning-content flex size-5 items-center justify-center bg-linear-to-b leading-none font-medium">
                  D
                </div>
                <p class="grow text-sm">Docs Assistant</p>
                <div
                  class="flex translate-x-2 items-center gap-2.5 opacity-0 transition-all duration-300 group-hover:translate-x-0 group-hover:opacity-100">
                  <span class="iconify lucide--star text-orange-500"></span>
                  <div class="flex items-center gap-0.5">
                    <div
                      class="border-base-300 flex size-5 items-center justify-center rounded-sm border shadow-xs">
                                            <span
                                              class="iconify lucide--corner-down-left size-3.5"></span>
                    </div>
                    <p class="ms-1 text-sm opacity-80">Select</p>
                  </div>
                  <span
                    class="iconify lucide--ellipsis-vertical opacity-80"></span>
                </div>
              </div>
            </li>
          </ul>

          <hr class="border-base-300 h-px border-dashed" />

          <ul class="menu w-full pt-1">
            <li class="menu-title flex flex-row items-center justify-between gap-2">
              <span>Tasks Manager</span>
              <span>Progress</span>
            </li>
            <li>
              <div>
                <span class="iconify lucide--notebook size-4"></span>
                <p class="grow text-sm">Creating an essay</p>
                <progress
                  class="progress progress-primary h-1 w-30"
                  value="60"
                  max="100"></progress>
              </div>
            </li>
            <li>
              <div>
                <span class="iconify lucide--message-circle size-4"></span>
                <p class="grow text-sm">Summarizing chat</p>
                <progress
                  class="progress progress-secondary h-1 w-30"
                  value="80"
                  max="100"></progress>
              </div>
            </li>
            <li>
              <div>
                <span class="iconify lucide--code size-4"></span>
                <p class="grow text-sm">Fixing syntax</p>
                <progress
                  class="progress progress-accent h-1 w-30"
                  value="35"
                  max="100"></progress>
              </div>
            </li>
            <li>
              <div>
                <span class="iconify lucide--book-open size-4"></span>
                <p class="grow text-sm">Reading docs</p>
                <progress
                  class="progress progress-info h-1 w-30"
                  value="90"
                  max="100"></progress>
              </div>
            </li>
            <li>
              <div>
                <span class="iconify lucide--lightbulb size-4"></span>
                <p class="grow text-sm">Generating ideas</p>
                <progress
                  class="progress progress-warning h-1 w-30"
                  value="50"
                  max="100"></progress>
              </div>
            </li>
          </ul>
        </div>
      </div>
      <form method="dialog" class="modal-backdrop">
        <button>close</button>
      </form>
    </dialog>
  </div>
  <div class="inline-flex items-center gap-0.5">
    <%= render "shared/ui/theme_toggle" %>
    <%= render "shared/ui/avatar_drawer" %>
  </div>
</div>