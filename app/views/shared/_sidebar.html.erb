<input
  type="checkbox"
  id="layout-sidebar-toggle-trigger"
  class="hidden"
  aria-label="Toggle layout sidebar"/>
<input
  type="checkbox"
  id="layout-sidebar-hover-trigger"
  class="hidden"
  aria-label="Dense layout sidebar"/>
<div id="layout-sidebar-hover" class="bg-base-300 h-screen w-1"></div>

<div id="layout-sidebar" class="sidebar-menu sidebar-menu-activation">
  <div class="flex min-h-16 items-center justify-between gap-3 ps-5 pe-4">
    <%= link_to root_path, class: "logo flex items-center gap-2" do %>
      <%= image_tag "full_logo.svg", alt: "Whisperer", class: "h-9" %>
    <% end %>
    <label
      for="layout-sidebar-hover-trigger"
      title="Toggle sidebar hover"
      class="btn btn-circle btn-ghost btn-sm text-base-content/50 relative max-lg:hidden">
            <span
              class="iconify lucide--panel-left-close absolute size-4.5 opacity-100 transition-all duration-300 group-has-[[id=layout-sidebar-hover-trigger]:checked]/html:opacity-0"></span>
      <span
        class="iconify lucide--panel-left-dashed absolute size-4.5 opacity-0 transition-all duration-300 group-has-[[id=layout-sidebar-hover-trigger]:checked]/html:opacity-100"></span>
    </label>
  </div>
  <%= render "shared/ui/project_switcher" %>
  <div class="relative min-h-0 grow mt-4">
    <div data-simplebar class="size-full">
      <div class="mb-3 space-y-0.5 px-2.5">
        <p class="menu-label px-2.5 pt-3 pb-1.5 first:pt-0">Overview</p>
        <!--        <div class="group collapse">-->
        <!--          <input-->
        <!--            aria-label="Sidemenu item trigger"-->
        <!--            type="checkbox"-->
        <!--            class="peer"-->
        <!--            name="sidebar-menu-parent-item"/>-->
        <!--          <div class="collapse-title px-2.5 py-1.5">-->
        <!--            <span class="iconify lucide--monitor-dot size-4"></span>-->
        <!--            <span class="grow">Dashboard</span>-->
        <!--            <span class="iconify lucide--chevron-right arrow-icon size-3.5"></span>-->
        <!--          </div>-->
        <!--          <div class="collapse-content ms-6.5 !p-0">-->
        <!--            <div class="mt-0.5 space-y-0.5">-->
        <!--              <a class="menu-item false" href="./dashboards-ecommerce.html">-->
        <!--                <span class="grow">Ecommerce</span>-->
        <!--              </a>-->
        <!--              <a class="menu-item false" href="./dashboards-crm.html">-->
        <!--                <span class="grow">CRM</span>-->
        <!--              </a>-->
        <!--              <a class="menu-item false" href="./dashboards-gen-ai.html">-->
        <!--                <span class="grow">Gen AI</span>-->
        <!--              </a>-->
        <!--            </div>-->
        <!--          </div>-->
        <!--        </div>-->
        <%= link_to dashboard_path, class: "menu-item #{current_page?(dashboard_path) || current_page?(root_path) ? 'active' : ''}" do %>
          <span class="iconify lucide--monitor size-4"></span>
          <span class="grow">Dashboard</span>
        <% end %>
        <%= link_to jobs_path, class: "menu-item #{current_page?(jobs_path) ? 'active' : ''}" do %>
          <span class="iconify lucide--briefcase size-4"></span>
          <span class="grow">Jobs</span>
        <% end %>
        <%= link_to videos_path, class: "menu-item #{controller_name == 'videos' ? 'active' : ''}" do %>
          <span class="iconify lucide--video size-4"></span>
          <span class="grow">Videos</span>
        <% end %>
        <%= link_to google_accounts_path, class: "menu-item #{controller_name == 'google_accounts' ? 'active' : ''}" do %>
          <span class="iconify lucide--user-circle size-4"></span>
          <span class="grow">Google Accounts</span>
        <% end %>
        <%= link_to comments_path, class: "menu-item #{controller_name == 'comments' ? 'active' : ''}" do %>
          <span class="iconify lucide--message-circle size-4"></span>
          <span class="grow">Comments</span>
        <% end %>
        <% settings_active = controller_name == 'prompt_settings' || controller_path.start_with?('settings') %>
        <div class="group collapse <%= 'collapse-open' if settings_active %>">
          <input
            aria-label="Sidemenu item trigger"
            type="checkbox"
            class="peer"
            name="sidebar-menu-settings"
            <%= 'checked' if settings_active %> />
          <div class="collapse-title px-2.5 py-1.5">
            <span class="iconify lucide--settings size-4"></span>
            <span class="grow">Settings</span>
            <span class="iconify lucide--chevron-right arrow-icon size-3.5"></span>
          </div>
          <div class="collapse-content ms-6.5 !p-0">
            <div class="mt-0.5 space-y-0.5">
              <%= link_to prompt_settings_path, class: "menu-item #{controller_name == 'prompt_settings' ? 'active' : ''}" do %>
                <span class="grow">AI/Prompt</span>
              <% end %>
              <%= link_to settings_project_path, class: "menu-item #{controller_path == 'settings/project' ? 'active' : ''}" do %>
                <span class="grow">Project</span>
              <% end %>
            </div>
          </div>
        </div>
        <% smm_panels_active = controller_path.start_with?('smm_panels') || controller_name == 'smm_orders' %>
        <div class="group collapse <%= 'collapse-open' if smm_panels_active %>">
          <input
            aria-label="Sidemenu item trigger"
            type="checkbox"
            class="peer"
            name="sidebar-menu-smm-panels"
            <%= 'checked' if smm_panels_active %> />
          <div class="collapse-title px-2.5 py-1.5">
            <span class="iconify lucide--share-2 size-4"></span>
            <span class="grow">SMM Panels</span>
            <span class="iconify lucide--chevron-right arrow-icon size-3.5"></span>
          </div>
          <div class="collapse-content ms-6.5 !p-0">
            <div class="mt-0.5 space-y-0.5">
              <%= link_to smm_panels_jap_index_path, class: "menu-item #{controller_path == 'smm_panels/jap' ? 'active' : ''}" do %>
                <span class="grow">JAP</span>
              <% end %>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="from-base-100/60 pointer-events-none absolute start-0 end-0 bottom-0 h-7 bg-linear-to-t to-transparent"></div>
  </div>
  <div class="mb-2">
    <hr class="border-base-300 my-2 border-dashed"/>
    <div class="dropdown dropdown-top dropdown-end w-full">
      <div
        tabindex="0"
        role="button"
        class="bg-base-200 hover:bg-base-300 rounded-box mx-2 mt-0 flex cursor-pointer items-center gap-2.5 px-3 py-2 transition-all">
        <%= render "shared/ui/avatar", name: current_user.first_name, last_name: current_user.last_name %>
        <div class="grow -space-y-0.5">
          <p class="text-sm font-medium"><%= current_user.full_name %></p>
          <p class="text-base-content/60 text-xs"><%= current_user.email %></p>
        </div>
        <span class="iconify lucide--chevrons-up-down text-base-content/60 size-4"></span>
      </div>
      <ul
        role="menu"
        tabindex="0"
        class="dropdown-content menu bg-base-100 rounded-box shadow-base-content/4 mb-1 w-48 p-1 shadow-[0px_-10px_40px_0px]">
        <li>
          <%= link_to edit_user_registration_path do %>
            <span class="iconify lucide--user size-4"></span>
            <span>My Profile</span>
          <% end %>
        </li>
        <li>
          <a href="./pages/settings.html">
            <span class="iconify lucide--settings size-4"></span>
            <span>Settings</span>
          </a>
        </li>
        <li>
          <a href="./pages/get-help.html">
            <span class="iconify lucide--help-circle size-4"></span>
            <span>Help</span>
          </a>
        </li>
        <li>
          <div>
            <span class="iconify lucide--bell size-4"></span>
            <span>Notification</span>
          </div>
        </li>
        <li>
          <div>
            <span class="iconify lucide--arrow-left-right size-4"></span>
            <span>Switch Account</span>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>

<label for="layout-sidebar-toggle-trigger" id="layout-sidebar-backdrop"></label>